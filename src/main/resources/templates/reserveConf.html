<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>予約内容確認</title>
	<!-- フォントやアイコンなどの読み込み -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
	<!-- 共通CSS -->
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/shadow.css">
	<link rel="stylesheet" href="/css/button.css">
	<link rel="stylesheet" href="/css/header-footer.css">
	<!--ここまで共通-->
	<link rel="stylesheet" href="/css/detail.css">
	<link rel="stylesheet" href="/css/reserve.css">
</head>

<body>
	<header th:replace="header"></header>
	<!-- 部屋イメージヘッダー -->
	<div class="head-img">
		<img th:src="${room.imgPath}" th:alt="${room.roomName}">
	</div>
	<main>
		<div class="details-box">
			<!-- ========== 部屋ディテール ========== -->
			<div class="room-ditail" style="margin-bottom:32px;">
				<div class="room-contain">
					<div class="room-img" id="slide" style="width:46%;">
						<img th:src="@{${room.imgPath}}" th:alt="@{${room.roomName}}" id="room-img"
							style="width:100%;border-radius:30px;">
					</div>
					<div class="room-amenities main-shadow" style="width:54%;">
						<div class="room-name" th:text="${room.roomName}" style="font-size:1.38rem;margin-bottom:10px;">
						</div>
						<div class="room-type" th:text="${room.type.typeName}" style="margin-bottom:7px;"></div>
						<div class="room-message" th:text="${room.description}" style="margin-bottom:13px;">
						</div>
						<div class="room-price">
							税・サービス料込み　
							<p th:text="${room.price} + '円~'"></p>
						</div>
						<div class="facility-section">
							<div class="section-title">●お部屋の設備</div>
							<div class="section-content">
								バス・トイレ別 / テレビ / 冷蔵庫 / 無料インターネットアクセス（WIFI）/ 電話 / 金庫 / スリッパ / ルームウェア / 電気ケトル /
								ビーチサンダル /
								ビーチバック
							</div>
						</div>
					</div>
				</div>
			</div><!-- /room-ditail -->

			<!-- ========== プラン情報 ========== -->
			<div class="room-plans" style="margin-bottom:26px;">
				<h3 class="room-plans-title">選択中のプラン</h3>
				<div class="plan">
					<div class="plan-card-content main-shadow">
						<div>
							<p class="plan-title" th:text="${plan.name}"></p>
							<p th:text="${countDay} + '泊' + ${countDay + 1} + '日'"></p>
							<p class="plan-desc" th:text="${plan.details}"></p>
						</div>
						<p class="plan-price" th:text="${plan.calcTotalPrice(room.price)} + '円 /人'"></p>
					</div>
				</div>
			</div>

			<!-- ========== 予約内容確認フォーム ========== -->
			<form class="reserve-card main-shadow" th:action="@{/rooms/{id}/reserveConf(id=${room.id})}" method="post"
				autocomplete="off" style="width: 97%;">

				<!-- --------- 宿泊情報 --------- -->
				<div class="reserve-form-block">
					<h2 class="section-title">宿泊情報詳細</h2>
					<div class="reserve-form-row">
						<label>宿泊予定日</label>
						<p>
							<span th:text="${checkinDate}"></span>
							<span class="calendar-tilde">~</span>
							<span th:text="${checkoutDate}"></span>
						</p>
						<input type="hidden" name="checkinDate" th:value="${checkinDate}">
						<input type="hidden" name="checkoutDate" th:value="${checkoutDate}">
					</div>
					<div class="reserve-form-row">
						<label>宿泊者数</label>
						<p>
							<span th:text="${guestCount}"></span>人
						</p>
						<input type="hidden" name="guestCount" th:value="${guestCount}">
					</div>
					<input type="hidden" name="planId" th:value="${plan.id}">
				</div>

				<!-- --------- 予約者情報 --------- -->
				<div class="reserve-form-block main-shadow">
					<h2 class="section-title">予約者情報</h2>
					<div class="reserve-form-row">
						<label>名前</label>
						<p th:text="${guestName}" class="confirm-value"></p>
						<input type="hidden" name="guestName" th:value="${guestName}">
					</div>
					<div class="reserve-form-row">
						<label>メールアドレス</label>
						<p th:text="${email}" class="confirm-value"></p>
						<input type="hidden" name="email" th:value="${email}">
					</div>
					<div class="reserve-form-row">
						<label>電話番号</label>
						<p th:text="${tel}" class="confirm-value"></p>
						<input type="hidden" name="tel" th:value="${tel}">
					</div>
					<div class="reserve-form-row">
						<label>住所</label>
						<p th:text="${address}" class="confirm-value"></p>
						<input type="hidden" name="address" th:value="${address}">
					</div>
				</div>

				<!-- --------- ボタン --------- -->
				<div class="reserve-button-block" style="display:flex;gap:22px;">
					<button type="submit" name="status" value="1" class="reserve-submit-btn"
						style="margin-bottom:0;">予約する</button>
					<button type="submit" name="status" value="2" class="reserve-submit-btn"
						style="background:#ccc;color:#715c37;">戻る</button>
				</div>
			</form>
		</div>
	</main>
	<footer th:replace="footer"></footer>
</body>

</html>